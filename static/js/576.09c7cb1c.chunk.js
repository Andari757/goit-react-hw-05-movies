"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[576],{8797:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(501),a=n(6871),u="styles_item__3A3-n",s=n(184);function i(t){var e=t.data,n=(0,a.TH)();return(0,s.jsx)("li",{className:u,children:(0,s.jsx)(r.rU,{state:{from:n},to:"/movies/".concat(e.id),children:e.title})})}var o="styles_list__qWq4N";function c(t){var e=t.data;return(0,s.jsx)("ul",{className:o,children:e.map((function(t){return(0,s.jsx)(i,{data:t},t.id)}))})}c.defaultProps={data:[]}},8576:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r=n(8683),a=n(5861),u=n(885),s=n(7757),i=n.n(s),o=n(2791),c=n(501),l=n(8797),d="styles_form__F6-JT",f="styles_input__80UGo",m="styles_button__WdJRs",p=n(184);function v(t){var e=t.onSubmit,n=(0,o.useState)(""),r=(0,u.Z)(n,2),a=r[0],s=r[1],i=function(t){t.preventDefault(),e(a)};return(0,p.jsxs)("form",{className:d,action:"",onSubmit:i,children:[(0,p.jsx)("input",{className:f,value:a,name:"query",onChange:function(t){var e=t.target;s(e.value)},type:"text"}),(0,p.jsx)("button",{className:m,type:"button",onClick:i,children:"Search"})]})}var h=n(4569),_=n.n(h);var g=function(){var t,e=(0,o.useState)({items:[],loading:!1,error:null}),n=(0,u.Z)(e,2),s=n[0],d=n[1],f=(0,c.lr)(),m=(0,u.Z)(f,2),h=m[0],g=m[1],x=h.get("query");return(0,o.useEffect)((function(){var t=function(){var t=(0,a.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d((function(t){return(0,r.Z)((0,r.Z)({},t),{},{loading:!0})})),t.prev=1,t.next=4,_().get("https://api.themoviedb.org/3/search/movie?api_key=453647fe51ddb15dbe812a48a21b448b&language=en-US&query=".concat(x,"&page=1&include_adult=false"));case 4:e=t.sent,n=e.data,d((function(t){return(0,r.Z)((0,r.Z)({},t),{},{loading:!1,items:n.results})})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!1,error:t.t0.message})}));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();x&&t()}),[x]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{onSubmit:function(t){g({query:t})}}),s.loading&&(0,p.jsx)("p",{children:"...loading"}),(null===(t=s.items)||void 0===t?void 0:t.length)>0&&(0,p.jsx)(l.Z,{data:s.items})]})}}}]);
//# sourceMappingURL=576.09c7cb1c.chunk.js.map